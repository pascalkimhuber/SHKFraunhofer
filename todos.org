* Configurations

** TODO Change passwords
Ask Christian how to do this and which passwords have to be changed. 

** DONE Colors in git-output [2014-01-05 Sun 14:42]


* Emacs

** TODO Add smart-mode-line to emacs config. 
** Language evaluation in org mode (see http://zeekat.nl/articles/making-emacs-work-for-me.html#sec-10)


* Arbeitszeiten
- [2013-12-16 Sat 16:30]--[2013-12-16 Mon 18:00]
- [2013-12-18 Wed 17:30]--[2013-12-18 Wed 19:56]
- [2013-12-19 Thu 14:00]--[2013-12-19 Thu 17:02]
- [2014-01-05 Sun 14:30]--[2014-01-05 Sun 19:30]
- [2014-01-07 Tue 12:17]--[2014-01-07 Tue 14:00]



* Nuetzliches

** Gnuplot Befehle
Einen Ueberblick zu nuetzlichen Gnuplot Befehlen kann auf der folgenden Seite gefunden werden: http://people.duke.edu/~hpgavin/gnuplot.html

1. Um ein Data-file (zum Beispiel =*.epot*) mit Gnuplot zu plotten, verwendet man: =gnuplot> plot "./argon.epot" using 1:2=. Hierbei wird die zweite Spalte gegen die erste Spalte aufgetragen. 
2. Dies kann auch mit mehreren Files gleichzeitig getan werden: =gnuplot> plot "./argon.etot" using 1:2, "./argon.ekin" using 1:2, "./argon.epot" using 1:2=
3. Um den Achsenabschnitt zu veraendern, verwendet man: =gnuplot> plot "./argon.epot" using 1:2; set yrange [-0.1: 2]=
4. Den urspruenglichen Achsenabschnitt kann man wie folgt wieder herstellen: =gnuplot> plot "./argon.epot" using 1:2; set autoscale=
5. Mit =gnuplot> replot= kann der Plot aktualisiert werden. 



* Aufgaben

** TODO Go through tutorials and manual (find mistakes)

*** TODO Bemerkungen
- vielleicht eine Hinweis, wie man an das Manual kommt?
- page 7 :: Letzter Satz: missing "of" after "... detailed specification"
- page 11 :: Erster Satz: es heisst =examples/Argon/= nicht =example/Argon/=.
- page 17 :: Verstehe nicht den Satz in der Klammer im Abschnitt /parallelepiped/
- page 105 :: Dritter Satz fehlendes "s" in "exist"
- Erhalte Warnung bei Aufruf von tremolo in Tutorial 14.1: =WARNING: Definition of unit system in the tremolo file is deprecated and may not be supported in future versions of tremolo. Define the unit system in the .potentials file instead.=
- page 107 :: oben, es fehlt "use a" in1 /Since that introduces a discontinuity, we also second potential, which .../
- page 107 :: superfluous colon after /...not a dynamic simulation./ before the second grey box. 
- page 108 :: do not understand the part about the /optimization/ block.
- page 108 :: in the part about the /output/ block: what is the difference between visuals and particle data?

			  

*** TODO Notizen
**** Overview
Das Tremolo Projekt besteht aus zwei Funktionalitaeten:
a. sequentielle Simulation 
b. parallele Simulation

1. Different capabilities of tremolo
   - ensembles
   - integrators
   - thermostats
2. In-depth description of the different potentials
3. Detailed specification of the syntax of options in the parameter file.

**** First steps
Start a tremolo simulation. Example:
Go to =tremole/examples/Argon/= and type =tremolo argon.tremolo=. This starts the simulation specified in the =*.tremolo= file. 

**** Ensembles and Thermostats
Es gibt unter anderem folgende Funktionalitaeten:
1. Propagators
2. Thermostats
3. Barostats


**** TODO Tutorial
	 Kopie des Ordners =/tremolo/tutorial= befindet sich auf =~/playground/=. 

***** DONE 14.1 Optimizing an initial particle setup
	  Often optimization of the particle distribution must be done, since the distribution is non-optimal creating local energy spikes which affect stability of the simulation. 
	  Thus the particle position are slightly modified towards a (static) energy minimum. 

	  1. Write a =*.tremolo=-file containing:
   - defaultpath (has to be set!)
   - projectname (all files will carry this name)
   - comment
   - systemofunits
   - base magnitudes for the system of units used. 

	 2. Write a =*.potentials=-file containing the potentials. 
   1. particles : Contains all particle types in the simulation:
	 - particle_type
	 - element_name
	 - mass
	 - sigma, sigma14, epsilon, epsilo14
   2. potentials to be used in between particles

   3. Write a =*.validates=-file containing:
   - validates the use of particles
   - decide which potential should be used

	 4. Write a =*.parameters=-file containing
   - the type of simulation (optimization, dynamic simulation)
   - parameters concerning the domain and the cells
   - options for parametrization (? here optimization...)
   - type and intervals of output

	 5. Write a =*.data=-file containing the initial particle positions in a special format
   - in the first line starting with =# ATOMDATA= the layout of the particle lsit ist set. 
   - in the second line starting with =# INPUTCONV= some manipulation of the data can be set (here the temperature)

	 6. Start the simulation using =tremolo -v *.tremolo=. The optimized particle positions are written to =*.data.9999=. 

****** DONE Exercises:
	   1. Das Partikel mit ID 12 verlaesst das Gebiet (Positionen mit Koordinaten um die 1e+08). Dies geschiet wahrschenlich dadurch, dass durch den groessen Praefaktor das Partikle direct auf ein benachbartes Partikel gesetzt wird. Durch die Abstossung durch das Potenzial, erhaelt das Partikel ein sehr hohe Geschwindigkeit und verlaesst das Gebiet. 
	   2. Die Potentielle Energie ist zu Beginn sehr gross (ca. 2.6e+10), allerdings nur wenige Zeitschritte, (hier nur 2.) unmittelbar nach Beginn der Optimierung, nimmt die Energie schlagartig ab (auf ca. -1.78, ab dem 7. Zeitschritt), danach konvigiert die Energie nur noch langsam zu einem Minimum (-1.15e+10). 


		  
***** DONE 14.2 Setting up a basic simulation
	  After the optimization phase a basic simulation can be done. 

	  1. in the =*.parameters=-file:
   - change the integration type from "optimization" to "dynamics": =integration: type=dynamics= 
   - Add new block to file consisting of the parameters of the dynamics:
	 - =ensemble=NVE= particle number, volume, total energy are constant
	 - choose integrator (propagator), e.g. =verlet= 
	 - choose time steps and intervall
   - Add anlysis sub-block to output-block to analyse velocity distribution of the particles:

	 2. make sure to use the optimized =*.data=-files:
   - always copy original data file somewhere safe
   - rename =*.data.9999= as =*.data= 

	 3. run simulation by the usual command

****** DONE Exercises
1. Die Gesamtenergie des Ensembles ist fast vollstaendig durch die kinetische Energie gegeben. Die potentielle Energie ist fast null, waehrend die kinetische Energie etwa 2000 ist. Desweiteren gibt es kleinste Schwankungen in den Energien. 
2. ? Wie kann man das anstaendig plotten?
3. Die Simulation bricht sofort ab mit der Fehlermeldung =Particle leaving simulation territory! Me:0 Particle-Id:12 (-8.547802e+05,-1.965304e+06,1.373152e+07) Process 0: Error in file ../../src/./update.c, line 1209 (0): SomeError: Particle leaving across a nonopen border. Simulation aborted.  Maybe the ensemble requires additional optimization?=
4. Die Messung von Durchschnittsenergien, kann duch hinzufuegen von =meanmeasure=on= im =*.parameters=-file aktiviert werden. Die Energien sind wie erwartet gemittelt worden und dabei im wesentlichen konstant. Grob gesehen ergeben sich die gleichen Energien wie schon im ungemittelten Fall. 
5. Durch die Temperaturerhoehung erhoeht sich auch die kinetische Energie der Teilchen, waehrend die potentielle Energie unveraendert bleibt. Ansonsten gibt es keine Aenderungen. 



***** DONE 14.3 Using the Berendsen thermostat
	  Using the first of two defferent thermostats. 

	  1. in =*.parameters=-file: 
		 - change the ensemble from =NVE= to =NVT= in order to hold the temperature constant instead of the total energy. 
		 - add a =thermostat= sub-block in order to supply details for the berendsen thermostat. 

****** DONE Exercises
1. Zum Startzeitpunkt ist sowohl die Gesamt- als auch die kinetsiche Energie recht hoch (ueber 2300), einen Zeitschritt spaeter sinken beide Energie schlagartig auf unter 2000 ab und bleibt anschliessend konstant. Die potentielle Energie ist konstant fast 0. 
2. Ich sehe gar keinen Unterschied...


***** DONE 14.4 An alternative: The Nose-Hoover-thermostat
	  Introduce second type of thermostat. 

	  1. in =*.parameters=-file:
		 - Change the propagator (velocity integrator necessary for the Nose-Hoover thermostat)
		 - set state of =berendsen= in the =thermostat= sub-block to off
		 - add =nosehoover=-thermostat to =thermostat= block 

****** DONE Exercises
1. Die Kinetische und die Gesamtenergie oszillieren jetzt genauso wie die Temperatur. Die potentielle Energie ist weiterhin konstant bei etwa 0. 
2. Fuer hoehere Temperaturen vergroessern sich die Amplituden. Fuer hoehere virtuelle Massen steigt die Frequenz der Oszillationen (ersten Grades...)


***** TODO 14.5 Optimizing the domain
	  Sometimes it is not possible to determine the optimal size of the domain prior to the simulation. 
	  We can use the optimization phase to determine the size of the domain. For that we allow to scale the box in order to minimize the potential energy. 

	  1. in =*.parameters=-file
		 - Add =simucell= lines in the =optimization= block. The first line contains the parameters for the cell optimization (in general the as for the particles). The second line can be used to specify some constraints. 
		 - Add a parameter to the =common= block for an external pressure value (=extpressure=).
	  2. after the simulation is finished the =# Box= line contains a box matrix entry. The values must be transfered to the parameter file (will be described in next lesson).




*** TODO Fragen

1. [ ] Was sind Ensembles?

2. [ ] Warum genau braucht man die Optimierung bei der Simulation? (Seite 105)

3. [ ] Was ist der Unterschied zwischen "optimization" and "dynamic simulation"?

4. [ ] Was heisst, dass Optimierung durch das CG-Verfahren durchgefuehrt werden muss? (Seite 108) Verstehe den ganzen Abschnitt zum Block "optmization" in =*.parameters=-file nicht...

5. [ ] Was sind die pdb files?

6. [ ] Was sind E_kin_group und e_tot+hoover in den ekin bzw. etot files?

7. [ ] Temperaturen koennen im =*.ekin= File betrachtet werden?	   

8. [ ] Kann es sein, dass ab Kapitel 14.3 die Listings im Tutorial und die Dateien aus =/tutorials= nicht ganz uebereinstimmen? Im Ordner fuer Kapitel 14.4 sind schon Einstellungen fuer das naechste Kapitel....

9. [ ] Der Output waehrend der Simulation wird nicht erklaert...
